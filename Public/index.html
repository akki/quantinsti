<!-- index.html -->
<!doctype html>

<!-- ANGULAR MODULE -->
<html ng-app="ExchangeOrderApp">
<head>
    <!-- META -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Optimize mobile viewport -->

    <title>Quantinsti</title>

    <!-- SCROLLS -->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"><!-- load bootstrap -->
    <style>
        html                    { overflow-y:scroll; }
        body                    { padding-top:50px; }
        #orders                 { margin-bottom:100px; }
    </style>

    <!-- SPELLS -->
    <script src="bower_components/angular/angular.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-route.js"></script>
    <script src="app.js"></script>

</head>
<!-- SET THE CONTROLLER AND GET ALL ORDERS -->
<body ng-controller="mainController">
        <!-- HEADER -->
        <div class="jumbotron text-center">
            <h1>Application to check instrument status</h1>
        </div>
        <div class="alert alert-success" ng-show="displaysuccess">
          <strong>Success!</strong> Refreshing after 5 seconds</a>.
        </div>
        <div id="orders" class="row">
          Current Status of All instruments :
                <!-- LOOP OVER THE orders IN $scope.orders -->
                  <ul>
                    <li ng-repeat="order in orders">
                          <h4>Instrument ID :  {{order.instrument}}</h4>
                          <p>{{order.size}} units of an instrument with the id {{order.instrument}} was {{order.status}}</p>
                    </li>
                  </ul>
        </div>
        <div id="order-form" class="row">
            <div class="col-sm-8 col-sm-offset-2 text-center">
                <form>
                    <div class="form-group">
                        <!-- BIND THIS VALUE TO formData.line IN ANGULAR -->
                        <input type="text" class="form-control input-lg text-center" placeholder="Enter line" ng-model="formData.line">
                    </div>
                    <!-- storeOrder() WILL save new entry into data after parsing line -->
                    <button type="submit" class="btn btn-primary btn-lg" ng-click="storeOrder()">Save new order</button>
                </form>
            </div>
        </div>
        <br />
        <div id="instrument-form" class="row">
            <div class="col-sm-8 col-sm-offset-2 text-center">
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control input-lg text-center" placeholder="Enter Instrument ID" ng-model="formData.instrumentId">
                    </div>
                    <!-- showOrder() WILL save new entry into data after parsing line -->
                    <button type="submit" class="btn btn-primary btn-lg" ng-click="getStatusByID(formData.instrumentId)">Display Instrument</button>
                </form>
            </div>
        </div>
        <div id="instrumentDetails" ng-if="instrumentDetails">
          <ul>
            <li ng-repeat="order in instrumentDetails">
                  <p>{{order.size}} units of an instrument with the id {{order.instrument}} was {{order.status}}</p>
            </li>
          </ul>
        </div>
</body>
</html>
